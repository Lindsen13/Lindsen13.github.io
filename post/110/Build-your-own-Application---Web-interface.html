<!DOCTYPE html>
<html lang="en">
 

<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-149203155-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-149203155-2');
    </script>
    <!-- Favicons -->

    <link href="/static/img/favicon/android-chrome-512x512.png" rel="icon">
    <link href="/static/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="/static/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/vendor/markdown-converter/styles.css" rel="stylesheet">

    <link href="/static/vendor/icofont/icofont.min.css" rel="stylesheet">
    <link href="/static/vendor/aos/aos.css" rel="stylesheet">
    <link href="/static/vendor/line-awesome/css/line-awesome.min.css" rel="stylesheet">
    <link href="/static/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="/static/css/style.css" rel="stylesheet">

    <meta name="robots" content="index, follow">

    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport"> 
<title>Python Everything - Build your own Application - Web interface</title>
<meta name="description" content="Using Flask and Bootstrap to create a simple yet amazing webpage for our application - See the final result here..."> 
</head>

<body>

    <!-- ======= Mobile Menu ======= -->
    <div class="site-mobile-menu site-navbar-target">
        <div class="site-mobile-menu-header">
            <div class="site-mobile-menu-close mt-3">
                <span class="icofont-close js-menu-toggle"></span>
            </div>
        </div>
        <div class="site-mobile-menu-body"></div>
    </div>

    <!-- ======= Header ======= -->
    <header class="site-navbar js-sticky-header site-navbar-target" role="banner">

        <div class="container">
            <div class="row align-items-center">

                <div class="col-6 col-lg-2">
                    <h1 class="mb-0 site-logo"><a href="/" class="mb-0">Python Everything</a></h1>
                </div>

                <div class="col-12 col-md-10 d-none d-lg-block">
                    <nav class="site-navigation position-relative text-right" role="navigation">

                        <ul class="site-menu main-menu js-clone-nav mr-auto d-none d-lg-block">
                            <li class="active"><a href="/" class="nav-link">Home</a></li>
                            <li><a href="/explore/1.html" class="nav-link">Explore</a></li>
                            <li><a href="/authors.html" class="nav-link">Collaborators</a></li>
                            <li><a href="/#contact" class="nav-link">Get in touch</a></li>
                        </ul>
                    </nav>
                </div>

                <div class="col-6 d-inline-block d-lg-none ml-md-0 py-3" style="position: relative; top: 3px;">

                    <a href="#" class="burger site-menu-toggle js-menu-toggle" data-toggle="collapse" data-target="#main-navbar">
                        <span></span>
                    </a>
                </div>

            </div>
        </div>

    </header>

    

<main id="main">

    <section class="hero-section inner-page">
        <div class="wave">

            <svg width="1920px" height="265px" viewBox="0 0 1920 265" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Apple-TV" transform="translate(0.000000, -402.000000)" fill="#FFFFFF">
              <path d="M0,439.134243 C175.04074,464.89273 327.944386,477.771974 458.710937,477.771974 C654.860765,477.771974 870.645295,442.632362 1205.9828,410.192501 C1429.54114,388.565926 1667.54687,411.092417 1920,477.771974 L1920,667 L1017.15166,667 L0,667 L0,439.134243 Z" id="Path"></path>
            </g>
          </g>
        </svg>

        </div>

        <div class="container">
            <div class="row align-items-center">
                <div class="col-12">
                    <div class="row justify-content-center">
                        <div class="col-md-10 text-center hero-text">
                            <h1 data-aos="fade-up" data-aos-delay=""><h1>Build your own Application - Web interface</h1></h1>
                            <p class="mb-5" data-aos="fade-up" data-aos-delay="100">2020-09-15 &bullet; By <a href="#" class="text-white">Ivo</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section>

    <section class="site-section mb-4">
        <div class="container">
            <div class="row">
                <div class="col-md-8 blog-content">

                    <p class="lead mb-5"><p>Using <strong>Flask</strong> and <strong>Bootstrap</strong> to create a simple yet amazing webpage for our application</p></p>
                    <p><h3>See the final result <a href="https://car-price-app.herokuapp.com/">here</a></h3>
<p>This is the third out of five posts for my new series. If you haven't read my first post and second post, please do so <a href="https://python-everything.com/post/108/Build-your-own-Application---Scraping-data.html">here</a>. and <a href="">here</a>. I will show you how you can make a custom application that includes predictive modelling! The creation of this small <strong>SAAS</strong> app is split up in the following parts:</p>
<ul>
<li>part 1: <a href="https://python-everything.com/post/108/Build-your-own-Application---Scraping-data.html">Scraping data</a></li>
<li>part 2: <a href="https://python-everything.com/post/109/Build-your-own-Application---Predictive-Modelling.html">Predictive modelling</a></li>
<li>part 3: Web interface (This post)</li>
<li>part 4: Deployment</li>
<li>Part 5: Improvements and Future works</li>
</ul>
<p>Just as I mentioned in my previous post, you can find the final result <a href="https://car-price-app.herokuapp.com/">here</a>. It is a web interface that takes several characteristics of a car. Based on the characteristics, a prediction is made for the value of the car. </p>
<h2>Lets add to the already existing environment</h2>
<p>First thing first, lets go to our project folder and add some more files and install some of the dependencies</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Navigate into the folder</span>
<span class="nb">cd</span> MyAmazingApplication
<span class="c1"># Activate virtual Environment</span>
<span class="nb">source</span> env/bin/activate
<span class="c1"># Install all packages with pip3</span>
pip3 install flask
<span class="c1"># Create a script for our utility functions</span>
touch flask_app.py
<span class="c1"># Create folder for our templates and static files</span>
mkdir static
mkdir templates
<span class="c1"># Create index.html file</span>
touch templates/index.html
</code></pre></div>


<p>We should now have the following structure:</p>
<div class="codehilite"><pre><span></span><code><span class="err">.</span>
<span class="err">├────db.py</span>
<span class="err">├────util.py</span>
<span class="err">├────collect_data.py</span>
<span class="err">├────flask_app.py</span>
<span class="err">├────static</span>
<span class="err">├────instance</span>
<span class="err">│       ├────finalized_model.sav</span>
<span class="err">│       ├────output.csv</span>
<span class="err">│       └────database.db</span>
<span class="err">├────templates</span>
<span class="err">│       └────index.html</span>
<span class="err">└────env</span>
<span class="err">        └────AllEnvFolders</span>
</code></pre></div>


<p>Lets first make sure our index.html file contains a simple HTML page based with a form in there to accept inputs:</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>title of the app<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Predict the value of your car!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        {% if output %}<span class="p">&lt;/</span><span class="nt">br</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>Value of your car: €{{ output }}<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
        {% endif %}
        <span class="p">&lt;</span><span class="nt">select</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;Brand&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;Brand&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">disabled</span> <span class="na">selected</span> <span class="na">value</span><span class="p">&gt;</span>Select a Brand<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;BMW&quot;</span><span class="p">&gt;</span>BMW<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Audi&quot;</span><span class="p">&gt;</span>Audi<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Volkswagen&quot;</span><span class="p">&gt;</span>Volkswagen<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Mercedes Benz&quot;</span><span class="p">&gt;</span>Mercedes Benz<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Peugeot&quot;</span><span class="p">&gt;</span>Peugeot<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Opel&quot;</span><span class="p">&gt;</span>Opel<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Renault&quot;</span><span class="p">&gt;</span>Renault<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Toyota&quot;</span><span class="p">&gt;</span>Toyota<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Ford&quot;</span><span class="p">&gt;</span>Ford<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">select</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;Fuel&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;Fuel&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">disabled</span> <span class="na">selected</span> <span class="na">value</span><span class="p">&gt;</span>select Fuel Type<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Benzine&quot;</span><span class="p">&gt;</span>Benzine<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;CNG&quot;</span><span class="p">&gt;</span>CNG<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Diesel&quot;</span><span class="p">&gt;</span>Diesel<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Elektrisch&quot;</span><span class="p">&gt;</span>Elektrisch<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Elektro/Benzine&quot;</span><span class="p">&gt;</span>Elektro/Benzine<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Elektro/Diesel&quot;</span><span class="p">&gt;</span>Elektro/Diesel<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Ethanol&quot;</span><span class="p">&gt;</span>Ethanol<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;LPG&quot;</span><span class="p">&gt;</span>LPG<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Overig&quot;</span><span class="p">&gt;</span>Overig<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Waterstof&quot;</span><span class="p">&gt;</span>Waterstof<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">select</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;Gearbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;Gearbox&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">disabled</span> <span class="na">selected</span> <span class="na">value</span><span class="p">&gt;</span>select Gearbox Type<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Automatisch&quot;</span><span class="p">&gt;</span>Automatisch<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Half/Semi-automaat&quot;</span><span class="p">&gt;</span>Half/Semi-automaat<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Handgeschakeld&quot;</span><span class="p">&gt;</span>Handgeschakeldel<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;number&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;Kilometers&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Kilometers&quot;</span> <span class="na">min</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">max</span><span class="o">=</span><span class="s">&quot;1000000&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;number&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;Year&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Year&quot;</span> <span class="na">min</span><span class="o">=</span><span class="s">&quot;1995&quot;</span> <span class="na">max</span><span class="o">=</span><span class="s">&quot;2020&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>
            Calculate price
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>


<p>This is a html page that has some <strong>Jinja2</strong> elements in it. One example is:</p>
<div class="codehilite"><pre><span></span><code>{% if output %}<span class="p">&lt;/</span><span class="nt">br</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>Value of your car: €{{ output }}<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
{% endif %}
</code></pre></div>


<p>What this does, is it checks if the <strong>output</strong> variable is defined, and if so, it will print the value of the output with some additional text. The rest of the HTML file is basically a simple form, which I build with the help of <a href="https://bootsnipp.com/forms">this</a> guide.</p>
<h2>Creating a Flask app to serve our HTML file</h2>
<p>Next up, is to open the <strong>flask_app.py</strong> file, and create a view that serves the HTML page.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">)</span>
</code></pre></div>


<p>To run the application, we have to do some fiddling in our terminal again:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Navigate into the folder</span>
<span class="nb">cd</span> MyAmazingApplication
<span class="c1"># Activate virtual Environment</span>
<span class="nb">source</span> env/bin/activate
<span class="c1"># Export the FLASK_APP variable</span>
<span class="nb">export</span> <span class="nv">FLASK_APP</span><span class="o">=</span>flask_app.py
<span class="c1"># Run the app</span>
flask run
</code></pre></div>


<p>Now we can navigate to <a href="http://localhost:5000/">http://localhost:5000/</a>, and see the application we build. Note that the form which we can see does not do anything, we still have to write a logic for that.</p>
<p>This logic, includes accepting not only <strong>GET</strong> methods on our webpage, but also <strong>POST</strong> methods. This can be done with <strong>Flask's</strong> Request module:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">render_template</span>
</code></pre></div>


<p>And we can extend our <strong>index()</strong> function to accept post methods:</p>
<div class="codehilite"><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">)</span>
</code></pre></div>


<p>Furthermore, we need to check if the current method is a <strong>POST</strong> method. To do so, we add the following if statement:</p>
<div class="codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;we are now in a post-method&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">continue</span>
</code></pre></div>


<p>Within the <strong>POST</strong> method, we would like to capture all the variables from the form which is submitted. We store this information in a dictionary called <strong>data</strong>, which we will be able to feed into our prediction model:</p>
<div class="codehilite"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;year&#39;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)),</span>
    <span class="s1">&#39;km&#39;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Kilometers&#39;</span><span class="p">)),</span>
    <span class="s1">&#39;brand&#39;</span><span class="p">:</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Brand&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> 
    <span class="s1">&#39;fuell&#39;</span><span class="p">:</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Fuel&#39;</span><span class="p">),</span> 
    <span class="s1">&#39;gearbox&#39;</span><span class="p">:</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Gearbox&#39;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>


<p>Next up, is to read in our preditive model and pass in the dictionary. To do so, we have to import <strong>pickle</strong> and our <strong>create_prediction()</strong> function:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">util</span> <span class="kn">import</span> <span class="n">create_prediction</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="n">names</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;km&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_audi&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;brand_bmw&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_ford&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_mercedes-benz&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;brand_opel&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_peugeot&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_renault&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;brand_toyota&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_volkswagen&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_-/- (Brandstof)&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;fuell_Benzine&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_CNG&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Diesel&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Elektrisch&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;fuell_Elektro/Benzine&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Elektro/Diesel&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Ethanol&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;fuell_LPG&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Overig&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Waterstof&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;gearbox_-/- (Transmissie)&#39;</span><span class="p">,</span> <span class="s1">&#39;gearbox_Automatisch&#39;</span><span class="p">,</span> <span class="s1">&#39;gearbox_Half/Semi-automaat&#39;</span><span class="p">,</span> <span class="s1">&#39;gearbox_Handgeschakeld&#39;</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;instance/finalized_model.sav&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">))</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">create_prediction</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">)</span>
</code></pre></div>


<p>This will return a variable with alot of decimals, so we convert this to have only 2 decimals:</p>
<div class="codehilite"><pre><span></span><code><span class="n">output</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>


<p>Now if we're not handling a <strong>POST</strong> method, we still want to create a ouput variable. This time, it should return an empty variable</p>
<div class="codehilite"><pre><span></span><code><span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</code></pre></div>


<p>Lets put it all together:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">render_template</span>
<span class="kn">from</span> <span class="nn">util</span> <span class="kn">import</span> <span class="n">create_prediction</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Brand&#39;</span><span class="p">))</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;year&#39;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)),</span>
            <span class="s1">&#39;km&#39;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Kilometers&#39;</span><span class="p">)),</span>
            <span class="s1">&#39;brand&#39;</span><span class="p">:</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Brand&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> 
            <span class="s1">&#39;fuell&#39;</span><span class="p">:</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Fuel&#39;</span><span class="p">),</span> 
            <span class="s1">&#39;gearbox&#39;</span><span class="p">:</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Gearbox&#39;</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;km&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_audi&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_bmw&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_ford&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_mercedes-benz&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_opel&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_peugeot&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_renault&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_toyota&#39;</span><span class="p">,</span> <span class="s1">&#39;brand_volkswagen&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_-/- (Brandstof)&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Benzine&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_CNG&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Diesel&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Elektrisch&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Elektro/Benzine&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Elektro/Diesel&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Ethanol&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_LPG&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Overig&#39;</span><span class="p">,</span> <span class="s1">&#39;fuell_Waterstof&#39;</span><span class="p">,</span> <span class="s1">&#39;gearbox_-/- (Transmissie)&#39;</span><span class="p">,</span> <span class="s1">&#39;gearbox_Automatisch&#39;</span><span class="p">,</span> <span class="s1">&#39;gearbox_Half/Semi-automaat&#39;</span><span class="p">,</span> <span class="s1">&#39;gearbox_Handgeschakeld&#39;</span><span class="p">]</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;instance/finalized_model.sav&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">))</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">create_prediction</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output</span><span class="p">)</span>
</code></pre></div>


<p>This will ensure you have a fully functioning web app. The only issue is that it is not that pretty. We can use HTML's framework called Bootstrap to easily turn it into a pretty web application. For the example I have made, I used a <a href="https://colorlib.com/wp/template/contact-form-v1/">theme</a> as an example. It just requires you to make minor adjustments in some of the css classes and some of the layout. It could look like the following:</p>
<p><img alt="Custom application example" src="https://python-everything.com/static/blogpost_content/custom%20application/layout%20example.png" /></p>
<p>You can download the code from my <a href="https://github.com/Lindsen13/Custom-Application">Github</a> as well!</p>
<p>Next time, we will have a look on how we can deploy our model to <a href="https://www.heroku.com/">Heroku</a></p></p>
                </div>
                <div class="col-md-4 sidebar">
                    <div class="sidebar-box">
                        <h3>Build your own Application - Web interface</h3>
                        <img src="/static/img/blogposts/110.png" alt="Image" class="round-image img-fluid">
                        <p><p>Using <strong>Flask</strong> and <strong>Bootstrap</strong> to create a simple yet amazing webpage for our application</p></p>
                    </div>
                    <div class="sidebar-box">
                        <div class="categories">
                            <h3>Latest posts</h3>
                            
                            <li><a href="/post/136/Google-is-tracking-you%2C-and-you-can-pitch-in-to-analyse-the-data%21.html">Google is tracking you, and you can pitch in to analyse the data!</a></li>
                            
                            <li><a href="/post/113/-Hosting-a-SQL-Database-for-your-Python-projects-with-Digital-Ocean.html"> Hosting a SQL Database for your Python projects with Digital Ocean</a></li>
                            
                            <li><a href="/post/110/Build-your-own-Application---Web-interface.html">Build your own Application - Web interface</a></li>
                            
                        </div>
                    </div>
                    <div class="sidebar-box">
                        <h3>Python Everything</h3>
                        <p>We at Python Everything try to provide you with your daily Python inspiration! Our post are ment to inspire you and ensure that you start coding in Python yourself.</p>
                        <p><a href="/about.html" class="btn btn-primary btn-sm">Read More</a></p>
                    </div>
                    <!--
                    <div class="sidebar-box">
                        <h3>Paragraph</h3>
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ducimus itaque, autem necessitatibus voluptate quod mollitia delectus aut, sunt placeat nam vero culpa sapiente consectetur similique, inventore eos fugit cupiditate numquam!</p>
                    </div>
                    -->
                </div>
            </div>
        </div>
    </section>

</main>



    <!-- ======= Footer ======= -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4 mb-md-0">
                    <h3>About Python Everything</h3>
                    <p>We're python enthousiasts, who want to ensure you are getting the same smile on you face everytime your python script runs successfully.</p>
                </div>
                <div class="col-md-7 ml-auto">
                    <div class="row site-section pt-0">
                        <div class="col-md-4 mb-4 mb-md-0">
                            <h3>Navigation</h3>
                            <ul class="list-unstyled">
                                <li><a href="/">Home</a></li>
                                <li><a href="/explore/1.html">Expore</a></li>
                                <li><a href="/#contact">Get in touch</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center text-center">
                <div class="col-md-7">
                    <p class="copyright">&copy; Copyright Python Everything. All Rights Reserved</p>
                    <div class="credits">
                        Designed by <a href="/">Python Everything</a>
                    </div>
                </div>
            </div>

        </div>
    </footer>

    <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

    <!-- Vendor JS Files -->
    <script src="/static/vendor/jquery/jquery.min.js"></script>
    <script src="/static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/static/vendor/jquery.easing/jquery.easing.min.js"></script>
    <script src="/static/vendor/aos/aos.js"></script>
    <script src="/static/vendor/owl.carousel/owl.carousel.min.js"></script>
    <script src="/static/vendor/jquery-sticky/jquery.sticky.js"></script>

    <!-- Template Main JS File -->
    <script src="/static/js/main.js"></script>

</body>

</html>